<!DOCTYPE html>
<html lang="en">
<head>
    <title>Guess The Clue</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="keywords" content="cryptic, crossword, clues"/>
    <meta name="description" content="Guess The Clue!"/>
    <meta property="og:title" content="Guess The Clue"/>
    <meta property="og:site_name" content="Guess The Clue"/>
    <link rel="stylesheet" href="./index.css"/>
    <style>
        main {
            height: 80vh;
            display: grid;
            grid-template:
            "title" 15%
            "maker" 25%
            "clue" 15%
            "url" 15%
            "copy" auto
            "keyboard" env(keyboard-inset-height, 0px);
            align-content: center;
            justify-content: center;
            background: var( --colour-teal);

            #title {
                color: var(--colour-green-aaa);
                grid-row: 1;
            }

            textarea {
                resize: none;
                padding: 1em;
                border: none;
                border-bottom: solid black 2px;

                &:focus {
                    outline: none;
                }
            }

            #maker {
                display: inline-grid;
                grid-row: 2;
                row-gap: 2em;

                textarea[name="answer"] {
                    text-transform: uppercase;
                }
            }

            #clue {
                background-color: var(--colour-green-aaa);
                border: none;
                grid-row: 3;
                width: 90%;
                height: 1px;
                margin: auto;
            }

            #url {
                color: var(--colour-green-aaa);
                grid-row: 4;
                word-break: break-all;
                height: 5em;
                border: none;
            }

            #copy {
                grid-row: 5;
                margin: 1em;

                background: var(--colour-green-aaa);
                color: white;
                font-size: medium;
                border-radius: 1.5em;
                padding: 0.5em;
                border-width: 0;
            }
        }
    </style>
</head>
<body>
<main>
    <h1 id="title">Create your own!</h1>
    <form id="maker">
        <textarea name="clue" placeholder="My clue, what do you think?" rows="1"></textarea>
        <textarea name="answer" placeholder="ANSWER" rows="1"></textarea>
    </form>
    <hr id="clue">
    <textarea id="url" rows="3" readonly></textarea>
    <button id="copy" onclick="navigator.clipboard.writeText(url.value)">Copy To Clipboard</button>
    <script>
        document.getElementById('maker').addEventListener('input', (_) => {
            let format = [...document.getElementById('maker').querySelectorAll('textarea')]
                .map((e) => e.value)
                .join("|");

            document.getElementById('url').textContent = `${window.location.origin}/guess/#${btoa(format)}`
        });
    </script>
</main>
</body>
</html>